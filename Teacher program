//this program can read .txt file and then put the answer in the struct

#include <stdio.h>
#include<stdlib.h>
#define MAX_LEN 200
#include <time.h>
#include "gfxEngine.h"
#include"struct.h"
#include"insprint.h"
#include"Pertanyaan.h"
#include<time.h>
#include<string.h>
#include<strings.h>
#include"functions.h"
#include"Search.h"
#define bzero(b,len) (memset((b), '\0', (len)), (void) 0)

int main(){
		FILE *fs;
		FILE *fp = NULL; 
		fs = fopen("jawaban.txt", "r");
		fp = fopen("jawaban.txt" ,"a");
    
	system("cls");
	printf("============================\n");
	printf("        MAIN MENU\n");
	printf("============================\n");
	printf("\n\n");
	printf("Welcome to my program!");
	printf("\nSelect Options!\n");
	printf("1.Insert Answer \n2.View Student List\n3.Find Student\n4.Exit\n\n");
	int choice1;
	printf("\n\nChoice: ");
	scanf("%d",&choice1);
	if(choice1==1){
	
		
	char ch, buffer[32];
	char ch1, buffer1[32];
	char ch2, buffer2[32];
	int i = 0, arr[11], j = 0;
	int arr1[11];
	int arr2[11];
	int pilih;


	

	while(1){
	
		ch = fgetc(fs);
		if(ch == EOF){
			break;
		}
		else if(ch == ','){
			arr[j] = atoi(buffer);
			j++;
			bzero(buffer, 32);
			i = 0;
			continue;
		}
		else if(ch == '.'){
			break;
		}
		else{
			buffer[i] = ch;
			i++;
		}
		
	}

 	int correct;
 	int snumber;
 	char name1[20];
 	
	if(arr[0]==123){
		printf("Welcome Edgar! ");
		snumber = 123;
	strcpy (name1,"Edgar");
	}
	else if(arr[0]==321){
		printf("Welcome Refan! ");
		snumber = 321;
		strcpy (name1,"Refan");
	}
	else if(arr[0]==231){
		printf("Welcome Andrew! ");
		snumber = 231;
		strcpy(name1,"Andrew");
	}
	
	system("pause");
	system("cls");
	for(i = 1; i < j; i++){
		printf("Jawaban [%d]: %d\n", i, arr[i]);
}
		int jawaban[11]={0,1,1,2,13,1,5,30,8,16,0};
	for(i = 1; i < j; i++){
		if(arr[i]==jawaban[i]){
			printf("jawaban %d benar\n",i);
			correct++;
		}
		else {
			printf("jawaban %d salah\n",i);
		}
		
}
		insert(correct,name1,snumber);
		system("pause");
		system("cls");
		
		return main();
		
	
}

else if(choice1==2){
		system("cls");
		printf("Player List: \n");
		
		printList();
		system("pause");
		return main();
		
	}
	
	else if(choice1==3){
		system("CLS");
		printf("please enter student number: ");
		int number;
		scanf("%d",&number);
			Search(&head, number);
			printf("\n\n");
			system("pause");
			return main();
	}
	else if(choice1==4){
		Exit();
	}
	else {
		return main();
	}
}
